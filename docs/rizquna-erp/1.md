Enterprise Publishing Management System
Technical Specification & System Blueprint

Document Version: 1.0
Date: 15 February 2026
Prepared for: PT Rizquna Pustaka (Rizquna.id)
Prepared by: [Your Name/Company]

Table of Contents
Executive Summary

System Overview

Goals and Objectives

System Scope

Functional Requirements
5.1 Master Data Management
5.2 Permission & Legal Management
5.3 Marketplace Distribution
5.4 Royalty & Financial Management
5.5 User & Access Management
5.6 Reporting & Analytics

Non-Functional Requirements

System Architecture
7.1 Technology Stack
7.2 Phase 0: Foundation
7.3 Phase 1: Web Forms + Google Integration
7.4 Phase 2: PostgreSQL Migration
7.5 Automation Layer (n8n)
7.6 Infrastructure & Security

Detailed Module Design
8.1 Master Data Module
8.2 Contract & Permission Module
8.3 Royalty Calculation Engine
8.4 Marketplace Distribution Module
8.5 Dashboard & Reporting Module

User Interface (UI) Descriptions

Integration Points

Security & Compliance

Development Roadmap

Sample Outputs (Based on Provided Templates)

Conclusion

1. Executive Summary
PT Rizquna Pustaka requires a comprehensive internal system to manage its publishing operations, including book catalogs, author contracts, royalty calculations, marketplace distribution, and financial reporting. This document outlines the complete technical specification and architecture for the Enterprise Publishing Management System. The system is designed to evolve from a lightweight Google‑based prototype to a robust, scalable enterprise solution using Laravel, PostgreSQL, and modern automation tools. The blueprint integrates all requirements gathered from the preliminary SRS, roadmap, and sample document templates, ensuring that every operational need is addressed with precision and clarity.

2. System Overview
The Enterprise Publishing Management System (EPMS) is a web‑based application that centralizes:

Book & Author Data – Master records with metadata, files, and relationships.

Legal Permissions – Contract management, approval workflows, expiration tracking.

Marketplace Distribution – Assignment of approved books to online stores, link storage, status tracking.

Royalty & Finance – Sales data import, automated royalty computation, invoice generation, payment tracking.

Reporting & Dashboards – Executive KPIs, alerts, exportable reports in PDF/Excel.

The system will be built in five progressive phases, starting with Google Sheets/Drive for rapid deployment and culminating in a full PostgreSQL back end with n8n automation.

3. Goals and Objectives
Centralization – Replace scattered spreadsheets and manual processes with a single source of truth.

Efficiency – Automate royalty calculations, contract expiration reminders, and report generation.

Control – Enforce business rules (e.g., only approved books can be distributed to marketplaces).

Scalability – Prepare for future growth by designing a modular, database‑driven architecture.

Compliance – Maintain audit trails, secure access, and proper archival of legal documents.

4. System Scope
In Scope	Out of Scope
Book & author CRUD with file uploads	Direct integration with marketplace APIs (phase 2)
Contract upload, approval, and expiration tracking	E‑commerce functionality
Royalty calculation based on imported sales	Customer relationship management (CRM)
Marketplace assignment and link storage	Mobile app (responsive web only)
Role‑based access (Admin, Legal, Marketing, Finance)	Multi‑currency (IDR only initially)
PDF/Excel reporting	
5. Functional Requirements
5.1 Master Data Management
Books

Fields: title, ISBN, description, price, cover image (upload), status (draft/published), associated author(s).

Bulk import via CSV.

File storage: Google Drive (Phase 1) → Cloud storage (Phase 2+).

Authors

Fields: name, email, phone, address, bank name, account number, tax ID (NPWP), KTP upload.

Multiple books per author; co‑authorship support.

Marketplace Registry

Predefined list: Shopee, Tokopedia, Lazada, TikTok Shop, Website.

Ability to add/edit.

5.2 Permission & Legal Management
Contract per Book

Upload contract PDF or generate from template.

Fields: contract start date, end date, royalty percentage, status (Pending, Approved, Rejected, Expired).

Status auto‑updates based on end date.

Approval Workflow

Legal/Admin changes status.

Audit trail logs all status changes (who, when, old value, new value).

Expiration Reminders

n8n workflow sends email notifications at 30, 7, and 1 day before expiry.

Dashboard highlights expiring contracts.

5.3 Marketplace Distribution
Assignment

Only books with Approved permission can be assigned.

Select marketplace, enter product link, set posting status (Draft, Posted, Removed).

Update status as needed.

Filtering

Marketing view shows only approved books ready for distribution.

5.4 Royalty & Financial Management
Sales Data Import

Manual entry or CSV upload (columns: marketplace, book ID/ISBN, period, quantity sold, net price).

Validation against book master.

Royalty Calculation

Trigger per period (monthly/quarterly).

Formula: (quantity * net price) * (royalty % / 100).

Generates royalty report per author (PDF) and detailed summary.

Invoice Generation

Creates payment invoice for each author (PDF).

Tracks payment status: Unpaid → Paid.

Export

Reports can be exported as PDF or Excel.

5.5 User & Access Management
Roles: Admin, Legal, Marketing, Finance.

Permissions:

Admin: full access.

Legal: manage contracts, approvals.

Marketing: marketplace assignment, view books.

Finance: royalty calculation, payment tracking, reports.

Activity Logs: All critical actions (create, update, delete, status change) are logged with timestamp and user.

5.6 Reporting & Analytics
Dashboard

KPI cards: total books, total authors, approved books, pending approvals, royalty outstanding.

Chart: sales per marketplace (monthly).

Alert box: expiring contracts (next 7 days).

Recent activity feed.

Predefined Reports

Approved Books List (with royalty % and marketplace status) – Excel/PDF.

Author Royalty Statement (per period) – PDF.

Sales by Marketplace – Excel.

Payment Status Report – Excel.

6. Non-Functional Requirements
Performance – Pages load within 3 seconds; royalty calculation for 10,000 records completes in <10 seconds.

Scalability – Database must handle growth from hundreds to tens of thousands of books.

Security – HTTPS, encrypted passwords (bcrypt), role‑based access control, audit logs.

Reliability – Daily automated backups; 99.5% uptime.

Usability – Responsive design, works on desktop and tablet.

Maintainability – Modular codebase with Laravel best practices; documented API.

7. System Architecture
7.1 Technology Stack
Layer	Technology
Frontend	Livewire or Inertia.js (Laravel)
Backend	Laravel 11 (PHP 8.2)
Database	PostgreSQL 16 (Phase 2+)
File Storage	Google Drive API (Phase 1) → DigitalOcean Spaces (Phase 3)
Automation	n8n (self‑hosted)
Server	VPS (Ubuntu 22.04, Nginx, SSL)
Backup	Automated daily to off‑site storage
7.2 Phase 0: Foundation
Setup VPS with LEMP stack.

Install Laravel, configure authentication, RBAC, and basic CRUD for users.

Implement logging and audit trail package.

7.3 Phase 1: Web Forms + Google Integration
Rapid prototype using Google Sheets as database via API.

Store files in Google Drive (covers, contracts).

Build Laravel forms that read/write to Sheets.

Suitable for immediate operational needs while back end is developed.

7.4 Phase 2: PostgreSQL Migration
Design normalized schema:

authors, books, book_author (pivot), contracts, marketplaces, assignments, sales, royalty_calculations, payments.

Migrate all data from Google Sheets.

Switch file storage to cloud object storage (Spaces) for better performance.

7.5 Automation Layer (n8n)
Workflows:

Daily check for expiring contracts → send email to Legal.

After royalty calculation → notify Finance.

Payment marked as paid → notify author via email/WhatsApp (future).

n8n runs on same VPS or separate container.

7.6 Infrastructure & Security
SSL certificate via Let’s Encrypt.

Firewall (UFW) with only necessary ports open.

Database encrypted at rest.

Regular security updates.

8. Detailed Module Design
8.1 Master Data Module
Book Model: id, title, isbn, description, price, cover_url, status, created_by, timestamps.

Author Model: id, name, email, phone, address, bank_name, account_number, tax_id, ktp_url.

Marketplace Model: id, name, is_active.

8.2 Contract & Permission Module
Contract Model: id, book_id, contract_file_url, start_date, end_date, royalty_percentage, status, approved_by, approved_at, timestamps.

Status Transitions:

Pending → Approved/Rejected (by Legal).

Approved → Expired (automatic via cron when end_date passed).

Audit Trail: using Spatie Laravel-activitylog package.

8.3 Royalty Calculation Engine
Sale Record: id, book_id, marketplace_id, period_start, period_end, quantity, net_price, imported_by, timestamps.

Calculation Process:

Fetch all sales for a given period.
Group by author (via book).
For each author, compute total royalty = sum(quantity * net_price * royalty_percentage/100).
Store result in royalty_calculations table with author_id, period, total_amount, status (draft/finalized).
Generate PDF using Laravel DomPDF.
Allow finance to finalize and mark as ready for payment.
8.4 Marketplace Distribution Module
Assignment Model: id, book_id, marketplace_id, product_url, posting_status, assigned_by, timestamps.

Business logic: before saving, check if book’s contract status = Approved. (Implement form request validation.)

8.5 Dashboard & Reporting Module
Dashboard widgets built with Laravel Livewire for real-time updates.

Reports generated via Laravel Excel (for Excel) and DomPDF (for PDF).

9. User Interface (UI) Descriptions
Login Page: Simple email/password form with “remember me”.

Main Navigation: Sidebar with collapsible menu: Dashboard, Books, Authors, Contracts, Marketplaces, Sales, Royalty, Reports, Users (admin).

Book List: Table with search, filters (by status, author), and action buttons (view, edit, delete).

Book Detail: Tabs: Details, Contract, Sales, Marketplace Assignments.

Contract Approval: List view with pending contracts highlighted; approval/reject buttons.

Royalty Calculation: Form to select period, button “Calculate”, then list of authors with calculated amounts; option to generate PDF invoices.

Dashboard: Cards and charts; expiring contracts widget.

10. Integration Points
Google Drive API – For file upload/download in Phase 1. Later, migration tool to move files to Spaces.

n8n API – Trigger workflows from Laravel via webhook or schedule.

Email – Using Laravel mail (SMTP) for notifications.

CSV Import/Export – Standard Laravel Excel package.

11. Security & Compliance
Authentication: Laravel Breeze or Jetstream with two‑factor optional.

Authorization: Gates and policies for each module.

Data Encryption: HTTPS in transit; sensitive fields (bank accounts) encrypted at rest.

Audit Logs: Immutable logs stored separately.

Backup: Automated daily dumps of database and file storage; retention policy 30 days.

Compliance: Contract archival meets Indonesian legal standards for electronic documents.

12. Development Roadmap
Phase	Focus Area	Duration	Key Deliverables
0	Foundation	2 weeks	VPS setup, Laravel install, RBAC, basic UI
1	Google Integration	3 weeks	Book/Author CRUD with Sheets/Drive, CSV import
2	PostgreSQL Migration	4 weeks	Schema design, data migration, file storage switch
3	Legal & Permissions	3 weeks	Contract module, approval workflow, expiry reminders
4	Royalty Engine	4 weeks	Sales import, calculation, PDF invoices
5	Marketplace & Dashboard	3 weeks	Assignment, dashboard, reports
6	Automation & Testing	2 weeks	n8n workflows, integration testing, user training
Total estimated time: 21 weeks (~5 months).

13. Sample Outputs (Based on Provided Templates)
13.1 Contract Izin Penjualan (01_Kontrak_Izin_Penjualan.pdf)
Generated PDF will include:

Tanggal, Pihak Pertama (PT Rizquna Pustaka), Pihak Kedua (Author name), Judul Buku, Skema Royalti (%), Durasi Izin (start–end), signature lines.

13.2 Surat Permohonan Izin (02_Surat_Permohonan_Izin.pdf)
Formal letter generated with author name, book details, and date.

13.3 Laporan Royalti Penulis (03_Laporan_Royalti_Template.pdf)
Table with columns: Judul Buku, Periode, Total Terjual, Royalti %, Total Royalti (Rp). Aggregated by author.

13.4 Rekap Buku Approved (04_Rekap_Buku_Approved.pdf)
Table: Judul Buku, Penulis, Royalti %, Status Marketplace (per marketplace).

13.5 Invoice Royalti (05_Invoice_Royalti.pdf)
Form with: Tanggal, Nama Penulis, Periode, Total Royalti (Rp), and signature line for Finance.

All templates will be stored in the system and populated dynamically.

14. Conclusion
This document provides a complete blueprint for the Enterprise Publishing Management System at PT Rizquna Pustaka. By following this specification, the development team can build a robust, scalable, and user‑friendly application that streamlines all publishing operations from contract to royalty payment. The phased approach ensures early value delivery while steadily advancing toward a full‑featured enterprise solution. With proper execution, this system will become the central nervous system of Rizquna.id’s publishing business.

Document prepared by:
[Your Name]
[Your Title]
[Date: 15 February 2026]

End of Document